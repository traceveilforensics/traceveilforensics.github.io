<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Contact Trace Veil Forensics for cybersecurity consulting, security assessments, incident response, and digital forensics services. Get a free consultation today.">
    <meta name="keywords" content="contact cybersecurity, security consultation, incident response contact, digital forensics contact, Kenya cybersecurity services">
    <title>Contact - Trace Veil Forensics | Get Free Security Consultation</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="LOGO_NAME.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("4iUdRTWOtX5Ix-OPK");
        })();
    </script>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header-inner">
            <a href="index.html" class="logo">
                <img src="LOGO_NAME.png" alt="Trace Veil Forensics Logo">
            </a>
            
            <nav class="nav-menu" id="navMenu">
                <ul class="nav-list">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="services.html" class="nav-link">Services</a></li>
                    <li><a href="about.html" class="nav-link">About</a></li>
                    <li><a href="contact.html" class="nav-link active">Contact</a></li>
                </ul>
                <button class="theme-btn" id="themeToggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon" id="themeIcon"></i>
                </button>
            </nav>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Contact Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Get in <span class="highlight">Touch</span></h1>
            <p>Ready to secure your business? Contact us for a free consultation and security assessment.</p>
        </div>
    </section>

    <!-- Contact Main Section -->
    <section class="contact-main">
        <div class="container">
            <div class="contact-grid">
                <!-- Contact Information -->
                <div class="contact-info">
                    <div class="contact-info-card">
                        <h3>Contact <span class="highlight">Information</span></h3>
                        
                        <div class="contact-methods-grid">
                            <div class="contact-method-item">
                                <a href="mailto:traceveilforensics@gmail.com?subject=Website%20Inquiry&body=Hi%2C%0D%0A%0D%0AI%27m%20interested%20in%20your%20cybersecurity%20services.%20Please%20share%20details%20on%20how%20you%20can%20help%20secure%20our%20organization.%0D%0A%0D%0AThanks%2C%0D%0A%5BYour%20Name%5D" style="text-decoration: none; display: flex; align-items: flex-start; gap: 12px; color: inherit;">
                                    <i class="fas fa-envelope"></i>
                                    <div class="contact-method-text">
                                        <h4>Email</h4>
                                        <p>traceveilforensics@gmail.com</p>
                                        <span style="font-size: 12px; color: var(--accent);">Click to send pre-filled message</span>
                                    </div>
                                </a>
                            </div>
                            
                            <div class="contact-method-item">
                                <a href="tel:+254731570131" style="text-decoration: none; display: flex; align-items: flex-start; gap: 12px; color: inherit;">
                                    <i class="fas fa-phone"></i>
                                    <div class="contact-method-text">
                                        <h4>Phone</h4>
                                        <p>+254 731 570 131</p>
                                    </div>
                                </a>
                            </div>
                            
                            <div class="contact-method-item">
                                <a href="https://wa.me/254731570131?text=Hi%2C%0D%0A%0D%0AI%27m%20interested%20in%20your%20cybersecurity%20services.%20Please%20share%20details%20on%20how%20you%20can%20help%20secure%20our%20organization.%0D%0A%0D%0AThanks%2C%0D%0A%5BYour%20Name%5D" target="_blank" style="text-decoration: none; display: flex; align-items: flex-start; gap: 12px; color: inherit;">
                                    <i class="fab fa-whatsapp" style="color: #25D366;"></i>
                                    <div class="contact-method-text">
                                        <h4>WhatsApp</h4>
                                        <p>+254 731 570 131</p>
                                        <span style="font-size: 12px; color: #25D366;">Click to start chat</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        
                        <div class="response-time">
                            <i class="fas fa-clock"></i>
                            <span>Response within 24 hours</span>
                        </div>
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="contact-form-section">
                    <h3>Send <span class="highlight">Message</span></h3>
                    
                    <form id="contactForm">
                        <input type="text" name="_honeypot" style="display: none;" autocomplete="off" tabindex="-1">
                        <div class="form-group">
                            <label for="name">Full Name *</label>
                            <input type="text" id="name" name="name" required minlength="2" maxlength="100">
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" name="email" required maxlength="254">
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" maxlength="20">
                        </div>
                        <div class="form-group">
                            <label for="company">Company Name</label>
                            <input type="text" id="company" name="company" maxlength="100">
                        </div>
                        <div class="form-group">
                            <label for="service">Service Interest</label>
                            <select id="service" name="service">
                                <option value="">Select a service...</option>
                                <option value="security-assessment">Security Assessment</option>
                                <option value="vulnerability-scanning">Vulnerability Scanning</option>
                                <option value="incident-response">Incident Response</option>
                                <option value="digital-forensics">Digital Forensics</option>
                                <option value="it-solutions">IT Solutions</option>
                                <option value="training-awareness">Training & Awareness</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" rows="6" required minlength="10" maxlength="5000" placeholder="Describe your security needs or concerns..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary full-width">
                            <i class="fas fa-paper-plane"></i> Send Message
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Trace Veil Forensics</h4>
                    <p>Professional cybersecurity consulting with affordable pricing and remote delivery.</p>
                    <p style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);">
                        <a href="mailto:traceveilforensics@gmail.com?subject=Website%20Inquiry&body=Hi%2C%0D%0A%0D%0AI%27m%20interested%20in%20your%20cybersecurity%20services.%20Please%20share%20details%20on%20how%20you%20can%20help%20secure%20our%20organization.%0D%0A%0D%0AThanks%2C%0D%0A%5BYour%20Name%5D" style="display: flex; align-items: center;">
                            <i class="fas fa-envelope" style="color: var(--accent); margin-right: 8px;"></i>
                            traceveilforensics@gmail.com
                        </a>
                    </p>
                    <p style="margin-bottom: var(--spacing-md);">
                        <a href="tel:+254731570131" style="display: flex; align-items: center;">
                            <i class="fas fa-phone" style="color: var(--accent); margin-right: 8px;"></i>
                            +254 731 570 131
                        </a>
                    </p>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="services.html#security-assessments">Security Assessments</a></li>
                        <li><a href="services.html#vulnerability-scanning">Vulnerability Scanning</a></li>
                        <li><a href="services.html#incident-response">Incident Response</a></li>
                        <li><a href="services.html#digital-forensics">Digital Forensics</a></li>
                        <li><a href="services.html#it-solutions">IT Solutions</a></li>
                        <li><a href="services.html#training-awareness">Training & Awareness</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms-of-service.html">Terms of Service</a></li>
                        <li><a href="service-agreement.html">Service Agreement</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Connect</h4>
                    <p style="margin-bottom: var(--spacing-md);">Get in touch with our security experts.</p>
                    <div class="social-links">
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Trace Veil Forensics. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navMenu = document.getElementById('navMenu');
        
        if (mobileMenuBtn && navMenu) {
            mobileMenuBtn.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                mobileMenuBtn.innerHTML = navMenu.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
        }

        // Header Scroll Effect
        const header = document.getElementById('header');
        if (header) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        }

        // Dark Mode Toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        
        if (themeToggle) {
            // Check for saved preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
            
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                
                if (document.body.classList.contains('dark-mode')) {
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                    localStorage.setItem('theme', 'dark');
                } else {
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                    localStorage.setItem('theme', 'light');
                }
            });
        }

        // Contact form handling with EmailJS (SECURE VERSION)
        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const submitButton = this.querySelector('button[type="submit"]');
                const originalText = submitButton.innerHTML;
                submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                submitButton.disabled = true;

                // === SPAM PROTECTION: Honeypot ===
                const honeypot = document.querySelector('input[name="_honeypot"]');
                if (honeypot && honeypot.value !== '') {
                    console.log('Spam detected: honeypot filled');
                    showSuccessMessage(); // Fake success to confuse spammer
                    this.reset();
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    return;
                }

                // === RATE LIMITING ===
                const lastSubmit = localStorage.getItem('lastFormSubmit');
                const now = Date.now();
                if (lastSubmit && (now - parseInt(lastSubmit)) < 60000) {
                    alert('Please wait 1 minute before submitting again.');
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    return;
                }

                // === INPUT SANITIZATION ===
                const sanitize = (str) => {
                    if (!str) return '';
                    return str.replace(/[<>\"\'\&]/g, (char) => {
                        const entities = {
                            '<': '&lt;',
                            '>': '&gt;',
                            '"': '&quot;',
                            "'": '&#x27;',
                            '&': '&amp;'
                        };
                        return entities[char] || char;
                    }).trim();
                };

                const sanitizeMultiline = (str) => {
                    if (!str) return '';
                    return str.replace(/[<>\"\'\&]/g, (char) => {
                        const entities = {
                            '<': '&lt;',
                            '>': '&gt;',
                            '"': '&quot;',
                            "'": '&#x27;',
                            '&': '&amp;'
                        };
                        return entities[char] || char;
                    })
                    .replace(/javascript:/gi, '')
                    .replace(/data:/gi, '')
                    .trim();
                };

                // === VALIDATION ===
                const name = sanitize(document.getElementById('name').value);
                const email = sanitize(document.getElementById('email').value);
                const phone = sanitize(document.getElementById('phone').value);
                const company = sanitize(document.getElementById('company').value);
                const service = sanitize(document.getElementById('service').value);
                const message = sanitizeMultiline(document.getElementById('message').value);

                // Name validation
                if (name.length < 2 || name.length > 100) {
                    alert('Name must be between 2-100 characters.');
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    return;
                }

                // Email validation (RFC 5322 compliant)
                const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/;
                if (!emailRegex.test(email)) {
                    alert('Please enter a valid email address.');
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    return;
                }

                // Phone validation (optional)
                if (phone && !/^[\d\s\+\-\(\)]{7,20}$/.test(phone)) {
                    alert('Please enter a valid phone number.');
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    return;
                }

                // Message validation
                if (message.length < 10 || message.length > 5000) {
                    alert('Message must be between 10-5000 characters.');
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    return;
                }

                // Service names mapping
                const serviceNames = {
                    'security-assessment': 'Security Assessment',
                    'vulnerability-scanning': 'Vulnerability Scanning',
                    'incident-response': 'Incident Response',
                    'digital-forensics': 'Digital Forensics',
                    'it-solutions': 'IT Solutions',
                    'training-awareness': 'Training & Awareness'
                };

                const templateParams = {
                    from_name: name,
                    from_email: email,
                    phone: phone || 'Not provided',
                    company: company || 'Not provided',
                    service: serviceNames[service] || 'General Inquiry',
                    message: message
                };

                try {
                    await emailjs.send('Trace_Veil_notifications', 'template_2ieyto7', templateParams);
                    localStorage.setItem('lastFormSubmit', Date.now().toString());
                    showSuccessMessage();
                    this.reset();
                } catch (error) {
                    console.error('EmailJS error:', error);
                    alert('Failed to send message. Please try again or email us directly.');
                }

                submitButton.innerHTML = originalText;
                submitButton.disabled = false;
            });
        }

        // Check for success redirect
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('success') === 'true') {
            showSuccessMessage();
            history.replaceState({}, document.title, window.location.pathname);
        }

        // Show success message
        function showSuccessMessage() {
            const successDiv = document.createElement('div');
            successDiv.className = 'success-message';
            successDiv.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <p>Thank you for your message! We'll get back to you within 24 hours.</p>
            `;
            successDiv.style.display = 'block';
            successDiv.style.position = 'fixed';
            successDiv.style.top = '20px';
            successDiv.style.right = '20px';
            successDiv.style.background = 'var(--accent)';
            successDiv.style.color = 'white';
            successDiv.style.padding = '1rem 1.5rem';
            successDiv.style.borderRadius = '8px';
            successDiv.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';
            successDiv.style.zIndex = '9999';
            successDiv.style.maxWidth = '300px';
            successDiv.style.animation = 'slideIn 0.3s ease-out';
            
            document.body.appendChild(successDiv);
            
            // Remove after 5 seconds
            setTimeout(() => {
                successDiv.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    if (successDiv.parentNode) {
                        successDiv.parentNode.removeChild(successDiv);
                    }
                }, 300);
            }, 5000);
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>